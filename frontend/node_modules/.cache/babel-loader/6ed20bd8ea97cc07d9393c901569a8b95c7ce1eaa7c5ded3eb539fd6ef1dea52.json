{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/ashu/Desktop/warehouse-copilot/rag-sql-assistant/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9;import React,{useState}from'react';import styled from'styled-components';import QueryResult from'./QueryResult';import{databaseAPI}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%;\\n  padding: 1rem;\\n\"])));const SqlEditor=styled.textarea(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 200px;\\n  padding: 1rem;\\n  border: 1px solid #ddd;\\n  border-radius: 4px;\\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\\n  font-size: 14px;\\n  resize: vertical;\\n  margin-bottom: 1rem;\\n\\n  &:focus {\\n    outline: none;\\n    border-color: #3498db;\\n  }\\n\"])));const ButtonContainer=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 1rem;\\n  margin-bottom: 1rem;\\n\"])));const ExecuteButton=styled.button(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  background: #3498db;\\n  color: white;\\n  border: none;\\n  padding: 0.75rem 1.5rem;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  font-size: 1rem;\\n\\n  &:hover {\\n    background: #2980b9;\\n  }\\n\\n  &:disabled {\\n    background: #bdc3c7;\\n    cursor: not-allowed;\\n  }\\n\"])));const ClearButton=styled.button(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  background: #95a5a6;\\n  color: white;\\n  border: none;\\n  padding: 0.75rem 1.5rem;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  font-size: 1rem;\\n\\n  &:hover {\\n    background: #7f8c8d;\\n  }\\n\"])));const ResultContainer=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  flex: 1;\\n  background: white;\\n  border: 1px solid #ddd;\\n  border-radius: 4px;\\n  overflow: hidden;\\n\"])));const ExampleQueries=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  margin-bottom: 1rem;\\n\"])));const ExampleTitle=styled.h4(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  margin: 0 0 0.5rem 0;\\n  color: #2c3e50;\\n\"])));const ExampleQuery=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  background: #f8f9fa;\\n  border: 1px solid #e9ecef;\\n  border-radius: 4px;\\n  padding: 0.5rem;\\n  margin-bottom: 0.25rem;\\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\\n  font-size: 12px;\\n  cursor: pointer;\\n\\n  &:hover {\\n    background: #e9ecef;\\n  }\\n\"])));const SqlExecutor=()=>{const[sql,setSql]=useState('');const[result,setResult]=useState(null);const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState(null);const exampleQueries=['SELECT COUNT(*) as total_customers FROM customers;','SELECT customer_segment, COUNT(*) as count FROM customers GROUP BY customer_segment;','SELECT * FROM accounts WHERE balance > 10000 LIMIT 10;','SELECT t.transaction_type, COUNT(*) as count FROM transactions t GROUP BY t.transaction_type;','SELECT c.first_name, c.last_name, a.balance FROM customers c JOIN accounts a ON c.customer_id = a.customer_id ORDER BY a.balance DESC LIMIT 5;'];const executeQuery=async()=>{if(!sql.trim())return;setIsLoading(true);setError(null);try{const result=await databaseAPI.executeQuery(sql);setResult(result);}catch(err){setError(err instanceof Error?err.message:'An error occurred');}finally{setIsLoading(false);}};const clearEditor=()=>{setSql('');setResult(null);setError(null);};const handleExampleClick=query=>{setSql(query);};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(ExampleQueries,{children:[/*#__PURE__*/_jsx(ExampleTitle,{children:\"Example Queries:\"}),exampleQueries.map((query,index)=>/*#__PURE__*/_jsx(ExampleQuery,{onClick:()=>handleExampleClick(query),children:query},index))]}),/*#__PURE__*/_jsx(SqlEditor,{value:sql,onChange:e=>setSql(e.target.value),placeholder:\"Enter your SQL query here... (e.g., SELECT * FROM customers LIMIT 10;)\"}),/*#__PURE__*/_jsxs(ButtonContainer,{children:[/*#__PURE__*/_jsx(ExecuteButton,{onClick:executeQuery,disabled:isLoading||!sql.trim(),children:isLoading?'Executing...':'Execute Query'}),/*#__PURE__*/_jsx(ClearButton,{onClick:clearEditor,children:\"Clear\"})]}),/*#__PURE__*/_jsxs(ResultContainer,{children:[error&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',color:'#e74c3c',background:'#fdf2f2'},children:[\"Error: \",error]}),result&&/*#__PURE__*/_jsx(QueryResult,{result:result}),!result&&!error&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'2rem',textAlign:'center',color:'#7f8c8d'},children:\"Execute a SQL query to see results here\"})]})]});};export default SqlExecutor;","map":{"version":3,"names":["React","useState","styled","QueryResult","databaseAPI","jsx","_jsx","jsxs","_jsxs","Container","div","_templateObject","_taggedTemplateLiteral","SqlEditor","textarea","_templateObject2","ButtonContainer","_templateObject3","ExecuteButton","button","_templateObject4","ClearButton","_templateObject5","ResultContainer","_templateObject6","ExampleQueries","_templateObject7","ExampleTitle","h4","_templateObject8","ExampleQuery","_templateObject9","SqlExecutor","sql","setSql","result","setResult","isLoading","setIsLoading","error","setError","exampleQueries","executeQuery","trim","err","Error","message","clearEditor","handleExampleClick","query","children","map","index","onClick","value","onChange","e","target","placeholder","disabled","style","padding","color","background","textAlign"],"sources":["/Users/ashu/Desktop/warehouse-copilot/rag-sql-assistant/frontend/src/components/SqlExecutor.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport QueryResult from './QueryResult';\nimport { databaseAPI } from '../services/api';\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  padding: 1rem;\n`;\n\nconst SqlEditor = styled.textarea`\n  width: 100%;\n  height: 200px;\n  padding: 1rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n  font-size: 14px;\n  resize: vertical;\n  margin-bottom: 1rem;\n\n  &:focus {\n    outline: none;\n    border-color: #3498db;\n  }\n`;\n\nconst ButtonContainer = styled.div`\n  display: flex;\n  gap: 1rem;\n  margin-bottom: 1rem;\n`;\n\nconst ExecuteButton = styled.button`\n  background: #3498db;\n  color: white;\n  border: none;\n  padding: 0.75rem 1.5rem;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 1rem;\n\n  &:hover {\n    background: #2980b9;\n  }\n\n  &:disabled {\n    background: #bdc3c7;\n    cursor: not-allowed;\n  }\n`;\n\nconst ClearButton = styled.button`\n  background: #95a5a6;\n  color: white;\n  border: none;\n  padding: 0.75rem 1.5rem;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 1rem;\n\n  &:hover {\n    background: #7f8c8d;\n  }\n`;\n\nconst ResultContainer = styled.div`\n  flex: 1;\n  background: white;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  overflow: hidden;\n`;\n\nconst ExampleQueries = styled.div`\n  margin-bottom: 1rem;\n`;\n\nconst ExampleTitle = styled.h4`\n  margin: 0 0 0.5rem 0;\n  color: #2c3e50;\n`;\n\nconst ExampleQuery = styled.div`\n  background: #f8f9fa;\n  border: 1px solid #e9ecef;\n  border-radius: 4px;\n  padding: 0.5rem;\n  margin-bottom: 0.25rem;\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n  font-size: 12px;\n  cursor: pointer;\n\n  &:hover {\n    background: #e9ecef;\n  }\n`;\n\nconst SqlExecutor: React.FC = () => {\n  const [sql, setSql] = useState('');\n  const [result, setResult] = useState<any>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const exampleQueries = [\n    'SELECT COUNT(*) as total_customers FROM customers;',\n    'SELECT customer_segment, COUNT(*) as count FROM customers GROUP BY customer_segment;',\n    'SELECT * FROM accounts WHERE balance > 10000 LIMIT 10;',\n    'SELECT t.transaction_type, COUNT(*) as count FROM transactions t GROUP BY t.transaction_type;',\n    'SELECT c.first_name, c.last_name, a.balance FROM customers c JOIN accounts a ON c.customer_id = a.customer_id ORDER BY a.balance DESC LIMIT 5;'\n  ];\n\n  const executeQuery = async () => {\n    if (!sql.trim()) return;\n\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const result = await databaseAPI.executeQuery(sql);\n      setResult(result);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'An error occurred');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const clearEditor = () => {\n    setSql('');\n    setResult(null);\n    setError(null);\n  };\n\n  const handleExampleClick = (query: string) => {\n    setSql(query);\n  };\n\n  return (\n    <Container>\n      <ExampleQueries>\n        <ExampleTitle>Example Queries:</ExampleTitle>\n        {exampleQueries.map((query, index) => (\n          <ExampleQuery key={index} onClick={() => handleExampleClick(query)}>\n            {query}\n          </ExampleQuery>\n        ))}\n      </ExampleQueries>\n\n      <SqlEditor\n        value={sql}\n        onChange={(e) => setSql(e.target.value)}\n        placeholder=\"Enter your SQL query here... (e.g., SELECT * FROM customers LIMIT 10;)\"\n      />\n\n      <ButtonContainer>\n        <ExecuteButton onClick={executeQuery} disabled={isLoading || !sql.trim()}>\n          {isLoading ? 'Executing...' : 'Execute Query'}\n        </ExecuteButton>\n        <ClearButton onClick={clearEditor}>\n          Clear\n        </ClearButton>\n      </ButtonContainer>\n\n      <ResultContainer>\n        {error && (\n          <div style={{ padding: '1rem', color: '#e74c3c', background: '#fdf2f2' }}>\n            Error: {error}\n          </div>\n        )}\n        {result && <QueryResult result={result} />}\n        {!result && !error && (\n          <div style={{ padding: '2rem', textAlign: 'center', color: '#7f8c8d' }}>\n            Execute a SQL query to see results here\n          </div>\n        )}\n      </ResultContainer>\n    </Container>\n  );\n};\n\nexport default SqlExecutor;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}