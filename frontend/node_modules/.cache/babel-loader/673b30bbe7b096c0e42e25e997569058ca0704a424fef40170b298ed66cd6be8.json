{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/ashu/Desktop/warehouse-copilot/rag-sql-assistant/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;import React,{useState,useRef,useEffect}from'react';import styled from'styled-components';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 0.75rem;\\n  align-items: flex-end;\\n\"])));const InputContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  flex: 1;\\n  position: relative;\\n\"])));const TextArea=styled.textarea(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  min-height: 44px;\\n  max-height: 120px;\\n  padding: 0.75rem;\\n  border: 2px solid #e9ecef;\\n  border-radius: 22px;\\n  resize: none;\\n  font-family: inherit;\\n  font-size: 1rem;\\n  line-height: 1.4;\\n  outline: none;\\n  background: \",\";\\n  color: \",\";\\n\\n  &:focus {\\n    border-color: #007bff;\\n    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\\n  }\\n\\n  &::placeholder {\\n    color: #adb5bd;\\n  }\\n\\n  &:disabled {\\n    cursor: not-allowed;\\n  }\\n\"])),props=>props.disabled?'#f8f9fa':'white',props=>props.disabled?'#6c757d':'#333');const SendButton=styled.button(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  background: \",\";\\n  color: \",\";\\n  border: none;\\n  border-radius: 50%;\\n  width: 44px;\\n  height: 44px;\\n  cursor: \",\";\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 1.2rem;\\n  transition: all 0.2s ease;\\n\\n  &:hover:not(:disabled) {\\n    background: #0056b3;\\n    transform: scale(1.05);\\n  }\\n\\n  &:active:not(:disabled) {\\n    transform: scale(0.95);\\n  }\\n\"])),props=>props.disabled?'#e9ecef':'#007bff',props=>props.disabled?'#6c757d':'white',props=>props.disabled?'not-allowed':'pointer');const CharCount=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  bottom: -1.5rem;\\n  right: 0.5rem;\\n  font-size: 0.75rem;\\n  color: \",\";\\n\"])),props=>props.warning?'#dc3545':'#6c757d');const MessageInput=_ref=>{let{onSendMessage,disabled=false,placeholder=\"Type your message...\"}=_ref;const[message,setMessage]=useState('');const textAreaRef=useRef(null);const maxLength=5000;useEffect(()=>{if(textAreaRef.current){textAreaRef.current.style.height='auto';textAreaRef.current.style.height=\"\".concat(textAreaRef.current.scrollHeight,\"px\");}},[message]);const handleSubmit=()=>{const trimmed=message.trim();if(trimmed&&!disabled){onSendMessage(trimmed);setMessage('');}};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleSubmit();}};const handleChange=e=>{const value=e.target.value;if(value.length<=maxLength){setMessage(value);}};const isNearLimit=message.length>maxLength*0.8;const canSend=message.trim().length>0&&!disabled;return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(InputContainer,{children:[/*#__PURE__*/_jsx(TextArea,{ref:textAreaRef,value:message,onChange:handleChange,onKeyPress:handleKeyPress,placeholder:placeholder,disabled:disabled,rows:1}),/*#__PURE__*/_jsxs(CharCount,{warning:isNearLimit,children:[message.length,\"/\",maxLength]})]}),/*#__PURE__*/_jsx(SendButton,{onClick:handleSubmit,disabled:!canSend,title:\"Send message (Enter)\",children:\"\\u2191\"})]});};export default MessageInput;","map":{"version":3,"names":["React","useState","useRef","useEffect","styled","jsx","_jsx","jsxs","_jsxs","Container","div","_templateObject","_taggedTemplateLiteral","InputContainer","_templateObject2","TextArea","textarea","_templateObject3","props","disabled","SendButton","button","_templateObject4","CharCount","_templateObject5","warning","MessageInput","_ref","onSendMessage","placeholder","message","setMessage","textAreaRef","maxLength","current","style","height","concat","scrollHeight","handleSubmit","trimmed","trim","handleKeyPress","e","key","shiftKey","preventDefault","handleChange","value","target","length","isNearLimit","canSend","children","ref","onChange","onKeyPress","rows","onClick","title"],"sources":["/Users/ashu/Desktop/warehouse-copilot/rag-sql-assistant/frontend/src/components/MessageInput.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  display: flex;\n  gap: 0.75rem;\n  align-items: flex-end;\n`;\n\nconst InputContainer = styled.div`\n  flex: 1;\n  position: relative;\n`;\n\nconst TextArea = styled.textarea<{ disabled: boolean }>`\n  width: 100%;\n  min-height: 44px;\n  max-height: 120px;\n  padding: 0.75rem;\n  border: 2px solid #e9ecef;\n  border-radius: 22px;\n  resize: none;\n  font-family: inherit;\n  font-size: 1rem;\n  line-height: 1.4;\n  outline: none;\n  background: ${props => props.disabled ? '#f8f9fa' : 'white'};\n  color: ${props => props.disabled ? '#6c757d' : '#333'};\n\n  &:focus {\n    border-color: #007bff;\n    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n  }\n\n  &::placeholder {\n    color: #adb5bd;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n`;\n\nconst SendButton = styled.button<{ disabled: boolean }>`\n  background: ${props => props.disabled ? '#e9ecef' : '#007bff'};\n  color: ${props => props.disabled ? '#6c757d' : 'white'};\n  border: none;\n  border-radius: 50%;\n  width: 44px;\n  height: 44px;\n  cursor: ${props => props.disabled ? 'not-allowed' : 'pointer'};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.2rem;\n  transition: all 0.2s ease;\n\n  &:hover:not(:disabled) {\n    background: #0056b3;\n    transform: scale(1.05);\n  }\n\n  &:active:not(:disabled) {\n    transform: scale(0.95);\n  }\n`;\n\nconst CharCount = styled.div<{ warning: boolean }>`\n  position: absolute;\n  bottom: -1.5rem;\n  right: 0.5rem;\n  font-size: 0.75rem;\n  color: ${props => props.warning ? '#dc3545' : '#6c757d'};\n`;\n\ninterface MessageInputProps {\n  onSendMessage: (message: string) => void;\n  disabled?: boolean;\n  placeholder?: string;\n}\n\nconst MessageInput: React.FC<MessageInputProps> = ({\n  onSendMessage,\n  disabled = false,\n  placeholder = \"Type your message...\"\n}) => {\n  const [message, setMessage] = useState('');\n  const textAreaRef = useRef<HTMLTextAreaElement>(null);\n  const maxLength = 5000;\n\n  useEffect(() => {\n    if (textAreaRef.current) {\n      textAreaRef.current.style.height = 'auto';\n      textAreaRef.current.style.height = `${textAreaRef.current.scrollHeight}px`;\n    }\n  }, [message]);\n\n  const handleSubmit = () => {\n    const trimmed = message.trim();\n    if (trimmed && !disabled) {\n      onSendMessage(trimmed);\n      setMessage('');\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit();\n    }\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    const value = e.target.value;\n    if (value.length <= maxLength) {\n      setMessage(value);\n    }\n  };\n\n  const isNearLimit = message.length > maxLength * 0.8;\n  const canSend = message.trim().length > 0 && !disabled;\n\n  return (\n    <Container>\n      <InputContainer>\n        <TextArea\n          ref={textAreaRef}\n          value={message}\n          onChange={handleChange}\n          onKeyPress={handleKeyPress}\n          placeholder={placeholder}\n          disabled={disabled}\n          rows={1}\n        />\n        <CharCount warning={isNearLimit}>\n          {message.length}/{maxLength}\n        </CharCount>\n      </InputContainer>\n\n      <SendButton\n        onClick={handleSubmit}\n        disabled={!canSend}\n        title=\"Send message (Enter)\"\n      >\n        â†‘\n      </SendButton>\n    </Container>\n  );\n};\n\nexport default MessageInput;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}